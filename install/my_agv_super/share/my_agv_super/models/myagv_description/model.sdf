<?xml version="1.0" ?>
<sdf version="1.6">
  <model name="myagv">
    <static>false</static>

  <link name='base_link'>
          <pose>0 0 .1 0 0 0</pose>
 	<collision name="base_collision">
        <pose>0 0 0.1 0 0 0</pose>
        <geometry>
          <box>
            <size>0.70 0.39 0.20</size>
          </box>
        </geometry>
      </collision>

      <visual name="base_visual">
        <pose>0 0 -0.05 0 0 0</pose>
        <geometry>
          <mesh>
  <uri>model://myagv_description/meshes/myagv_all.dae</uri>
            <scale>1.0 1.0 1.0</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>1.0 0.0 0.0 1.0</ambient>
          <diffuse>1.0 0.0 0.0 1.0</diffuse>
          <specular>0.0 0.0 0.0 1.0</specular>
          <emissive>0.0 0.0 0.0 1.0</emissive>
        </material>
      </visual>

    </link>
      <link name="left_wheel_front">
        <pose>0.106 0.1 0.09 0 1.5707 1.5707</pose>
        <collision name="collision">
          <geometry>
            <cylinder>
              <radius>.04</radius>
              <length>.04</length>
            </cylinder>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <cylinder>
              <radius>.04</radius>
              <length>.04</length>
            </cylinder>
          </geometry>
        </visual>
      </link>

      <link name="right_wheel_front">
        <pose>0.106 -0.1 0.09 0 1.5707 1.5707</pose>
        <collision name="collision">
          <geometry>
            <cylinder>
              <radius>.04</radius>
              <length>.04</length>
            </cylinder>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <cylinder>
              <radius>.04</radius>
              <length>.04</length>
            </cylinder>
          </geometry>
        </visual>
      </link>
      
  
      <link name="left_wheel_back">
        <pose>-0.106 0.1 0.09 0 1.5707 1.5707</pose>
        <collision name="collision">
          <geometry>
            <cylinder>
              <radius>.04</radius>
              <length>.04</length>
            </cylinder>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <cylinder>
              <radius>.04</radius>
              <length>.04</length>
            </cylinder>
          </geometry>
        </visual>
      </link>

      <link name="right_wheel_back">
        <pose>-0.106 -0.1 0.09 0 1.5707 1.5707</pose>
        <collision name="collision">
          <geometry>
            <cylinder>
              <radius>.04</radius>
              <length>.04</length>
            </cylinder>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <cylinder>
              <radius>.04</radius>
              <length>.04</length>
            </cylinder>
          </geometry>
        </visual>
      </link>
      
          <joint type="revolute" name="left_wheel_front_hinge">
        <pose>0 0 0 0 0 0</pose>
        <child>left_wheel_front</child>
        <parent>base_link</parent>
        <axis>
          <xyz>0 0 1</xyz>
        </axis>
      </joint>

      <joint type="revolute" name="right_wheel_front_hinge">
        <pose>0 0 0 0 0 0 </pose>
        <child>right_wheel_front</child>
        <parent>base_link</parent>
        <axis>
          <xyz>0 0 1</xyz>
        </axis>
      </joint>
      
        <joint type="revolute" name="left_wheel_back_hinge">
        <pose>0 0 0 0 0 0</pose>
        <child>left_wheel_back</child>
        <parent>base_link</parent>
        <axis>
          <xyz>0 0 1</xyz>
        </axis>
      </joint>

      <joint type="revolute" name="right_wheel_back_hinge">
        <pose>0 0 0 0 0 0 </pose>
        <child>right_wheel_back</child>
        <parent>base_link</parent>
        <axis>
          <xyz>0 0 1</xyz>
        </axis>
      </joint>

<!--

<plugin name="skid_steer_drive" filename="libgazebo_ros_diff_drive.so">

  <ros>
    <namespace> </namespace>
  </ros>
  <num_wheel_pairs>2</num_wheel_pairs>
   <left_joint>left_wheel_front_hinge</left_joint>
    <right_joint>right_wheel_front_hinge</right_joint>
    <left_joint>left_wheel_back_hinge</left_joint>
    <right_joint>right_wheel_back_hinge</right_joint> 
  <wheel_separation>0.26</wheel_separation>
  <wheel_separation>0.26</wheel_separation>
  <wheel_diameter>0.4</wheel_diameter>
  <wheel_diameter>0.4</wheel_diameter>
  <max_wheel_torque>1000</max_wheel_torque>
  <max_wheel_acceleration>20.0</max_wheel_acceleration>
  <publish_odom>true</publish_odom>
   <publish_odom_tf>true</publish_odom_tf>
   <publish_wheel_tf>true</publish_wheel_tf>
   <odometry_frame>odom</odometry_frame>
   <robot_base_frame>base_link</robot_base_frame>
 
</plugin>
-->

<plugin name="omni_steering" filename="libgazebo_ros_planar_move.so">
	<commandTopic>cmd_vel</commandTopic>
	<odometryTopic>odom</odometryTopic>
	<odometryFrame>odom</odometryFrame>
	<odometryRate>50.0</odometryRate>
	<robotBaseFrame>base_link</robotBaseFrame>
	<publishTF>false</publishTF>
</plugin>

    
  </model>
</sdf>

